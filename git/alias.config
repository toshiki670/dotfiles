[alias]
  alias = !"git config --get-regexp ^alias\\. | sort"

  s = status

  d = diff
  ds = diff --staged

  l = log --graph --all --pretty=format:'%C(yellow)%h%C(cyan)%d%Creset %s %C(white)- %an, %ar%Creset'

  a = add
  ap = add -p

  c = commit
  cm = commit -m

  ch = checkout

  b = branch

  pull-re = pull --rebase
  pull-rebase = pull --rebase

  reset-hard = reset --hard HEAD

  rebase-previous = rebase -i HEAD~

  # Switch
  sw = switch
  swi = switch

  new = switch -c
  pre = switch -

  main = !git switch main && git pull
  master = !git switch master && git pull

  # Get current branch name
  current = branch --show-current

  # Check if current branch's PR is merged (returns exit code 0 if merged, 1 otherwise)
  merged = !"[ \"$(gh pr view $(git current) --json state --jq '.state')\" = \"MERGED\" ]"

  # Get PR base branch (merge target) for current branch
  base = !"gh pr view $(git current) --json baseRefName --jq '.baseRefName'"

  # Switch to PR base branch and pull (only if PR is merged)
  # Also deletes the merged branch and prunes remote-tracking branches
  done = !"git merged && current=$(git current) && base=$(git base) && [ -n \"$base\" ] && git switch \"$base\" && git pull && git branch -d \"$current\" && git fetch --prune"
