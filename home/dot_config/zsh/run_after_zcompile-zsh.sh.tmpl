#!/bin/bash
# Compile zsh configuration files for faster loading

ZSHENV="{{ .chezmoi.homeDir }}/.zshenv"
ZSHRC="{{ .chezmoi.homeDir }}/.config/zsh/.zshrc"

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "⚡ Compiling Zsh Configuration Files"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""

# Compile .zshenv if it exists
if [[ -f "$ZSHENV" ]]; then
  if zsh -c "zcompile -R \"$ZSHENV\"" 2>/dev/null; then
    echo "✓ Compiled $ZSHENV"
  fi
fi

# Compile .zshrc if it exists
if [[ -f "$ZSHRC" ]]; then
  if zsh -c "zcompile -R \"$ZSHRC\"" 2>/dev/null; then
    echo "✓ Compiled $ZSHRC"
  fi
fi

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "✓ Compilation completed"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
